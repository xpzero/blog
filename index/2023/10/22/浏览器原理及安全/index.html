<!doctype html>
<html lang="zh-CN" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">浏览器原理及安全 | What are you thinking about?</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://xpzero.github.io/blog/index/2023/10/22/浏览器原理及安全"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="浏览器原理及安全 | What are you thinking about?"><meta data-rh="true" name="description" content="看到别人的总结一直「惊为天人」，就在这里以自己的视角记录一下"><meta data-rh="true" property="og:description" content="看到别人的总结一直「惊为天人」，就在这里以自己的视角记录一下"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2023-10-22T00:00:00.000Z"><meta data-rh="true" property="article:tag" content="浏览器原理"><link data-rh="true" rel="icon" href="/blog/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://xpzero.github.io/blog/index/2023/10/22/浏览器原理及安全"><link data-rh="true" rel="alternate" href="https://xpzero.github.io/blog/index/2023/10/22/浏览器原理及安全" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://xpzero.github.io/blog/index/2023/10/22/浏览器原理及安全" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/index/rss.xml" title="What are you thinking about? RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/index/atom.xml" title="What are you thinking about? Atom Feed"><link rel="stylesheet" href="/blog/assets/css/styles.f2e1ba94.css">
<link rel="preload" href="/blog/assets/js/runtime~main.a143aa5b.js" as="script">
<link rel="preload" href="/blog/assets/js/main.85fe0a19.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_jwCO" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/blog/"><b class="navbar__title text--truncate">Kehan&#x27;s Blog</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog/index">博客列表</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_GnfQ"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_drBT colorModeToggle_O6q4"><button class="clean-btn toggleButton_OBl4 toggleButtonDisabled_ne8F" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_eZza"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_Lxcj"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_mA0p"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_l8Aj"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_RFuV thin-scrollbar" aria-label="最近博文导航"><div class="sidebarItemTitle_eOuV margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Lup4 clean-list"><li class="sidebarItem_Dq3C"><a aria-current="page" class="sidebarItemLink_z_p3 sidebarItemLinkActive_mFSi" href="/blog/index/2023/10/22/浏览器原理及安全">浏览器原理及安全</a></li><li class="sidebarItem_Dq3C"><a class="sidebarItemLink_z_p3" href="/blog/index/2023/10/21/React渲染原理">React渲染原理</a></li><li class="sidebarItem_Dq3C"><a class="sidebarItemLink_z_p3" href="/blog/index/2023/09/27/常用git命令">常用git命令</a></li><li class="sidebarItem_Dq3C"><a class="sidebarItemLink_z_p3" href="/blog/index/2023/09/26/如何让antd中的InputNumber组件只能输入数字？">如何让antd中的InputNumber组件只能输入数字？</a></li><li class="sidebarItem_Dq3C"><a class="sidebarItemLink_z_p3" href="/blog/index/2023/09/23/nvim插件体系记录">nvim插件体系记录</a></li><li class="sidebarItem_Dq3C"><a class="sidebarItemLink_z_p3" href="/blog/index/2023/09/23/使用Docusaurus构建博客">使用Docusaurus构建博客</a></li><li class="sidebarItem_Dq3C"><a class="sidebarItemLink_z_p3" href="/blog/index/2023/09/16/LuaSnip使用">LuaSnip使用</a></li><li class="sidebarItem_Dq3C"><a class="sidebarItemLink_z_p3" href="/blog/index/2023/09/09/whistle的安装及使用">whistle的安装及使用</a></li><li class="sidebarItem_Dq3C"><a class="sidebarItemLink_z_p3" href="/blog/index/2023/09/09/配置dotfiles记录">配置dotfiles记录</a></li><li class="sidebarItem_Dq3C"><a class="sidebarItemLink_z_p3" href="/blog/index/2023/09/04/使用Hugo构建个人博客并托管至Github Pages">使用Hugo构建个人博客并托管至Github Pages</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="看到别人的总结一直「惊为天人」，就在这里以自己的视角记录一下"><header><h1 class="title_v8Qu" itemprop="headline">浏览器原理及安全</h1><div class="container_RcbP margin-vert--md"><time datetime="2023-10-22T00:00:00.000Z" itemprop="datePublished">2023年10月22日</time> · <!-- -->阅读需 19 分钟</div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><p>看到别人的总结一直「惊为天人」，就在这里以自己的视角记录一下</p><h2 class="anchor anchorWithStickyNavbar_iAQ0" id="前端缓存">前端缓存<a href="#前端缓存" class="hash-link" aria-label="前端缓存的直接链接" title="前端缓存的直接链接">​</a></h2><div class="myMarkmap_L_os"><svg width="auto" height="auto"></svg><div></div></div><h2 class="anchor anchorWithStickyNavbar_iAQ0" id="浏览器安全">浏览器安全<a href="#浏览器安全" class="hash-link" aria-label="浏览器安全的直接链接" title="浏览器安全的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_iAQ0" id="xss攻击">XSS攻击<a href="#xss攻击" class="hash-link" aria-label="XSS攻击的直接链接" title="XSS攻击的直接链接">​</a></h3><p><code>Cross-Site Scripting</code>，跨站脚本攻击。攻击者在返回的<code>HTML</code>中嵌入脚本，从而拿到用户的信息并进行操作。</p><h4 class="anchor anchorWithStickyNavbar_iAQ0" id="存储型">存储型<a href="#存储型" class="hash-link" aria-label="存储型的直接链接" title="存储型的直接链接">​</a></h4><p>将脚本存储到了数据库，客户端读取后直接执行脚本，达到攻击的效果</p><p>常见场景：评论区提交脚本内容，前后端没做好转义，直接存储到数据库。客户端每次读取都会执行脚本</p><h4 class="anchor anchorWithStickyNavbar_iAQ0" id="反射型">反射型<a href="#反射型" class="hash-link" aria-label="反射型的直接链接" title="反射型的直接链接">​</a></h4><p>恶意脚本作为请求URL的参数，浏览器解析后作为脚本执行</p><p>场景：服务端读取url的参数作为HTML的内容，将HTML返回给浏览器解析，浏览器解析过程中执行恶意脚本</p><h4 class="anchor anchorWithStickyNavbar_iAQ0" id="文档型">文档型<a href="#文档型" class="hash-link" aria-label="文档型的直接链接" title="文档型的直接链接">​</a></h4><p>同<code>反射型</code>相似。区别在于：由前端JS脚本取出恶意代码并执行</p><h4 class="anchor anchorWithStickyNavbar_iAQ0" id="防范措施">防范措施<a href="#防范措施" class="hash-link" aria-label="防范措施的直接链接" title="防范措施的直接链接">​</a></h4><ul><li>对用户提交的内容做转义</li><li>利用<code>HttpOnly</code>。在响应头中设置<code>Set-Cookie: HttpOnly</code>后，浏览器会禁止<code>JavaScript</code>脚本访问<code>Cookie</code>，使攻击无法使用<code>document.cookie</code>获取用户<code>Cookie</code></li><li>使用浏览器内容安全策略(CSP，Content Security Policy),只允许加载指定域的脚本及样式。<ul><li>其有两种使用方式<ul><li>服务端配置<code>Content-Security-Policy</code>的响应头</li></ul><div class="language-json codeBlockContainer_IW09 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Wktp"><pre tabindex="0" class="prism-code language-json codeBlock_H6ch thin-scrollbar"><code class="codeBlockLines_j5Bm"><span class="token-line" style="color:#393A34"><span class="token plain">Content-Security-Policy</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> script-src &#x27;self&#x27;; object-src &#x27;none&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">style-src cdn.example.org third-party.org; child-src https</span><span class="token operator" style="color:#393A34">:</span><br></span></code></pre><div class="buttonGroup_MKfy"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_t4q_" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_N8gI"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_InYZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>使用<code>&lt;meta&gt;</code>标签：</li></ul><div class="language-html codeBlockContainer_IW09 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Wktp"><pre tabindex="0" class="prism-code language-html codeBlock_H6ch thin-scrollbar"><code class="codeBlockLines_j5Bm"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">meta</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">  </span><span class="token tag attr-name" style="color:#00a4db">http-equiv</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">Content-Security-Policy</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">  </span><span class="token tag attr-name" style="color:#00a4db">content</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">script-src </span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value" style="color:#e3116c">self</span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value" style="color:#e3116c">; object-src </span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value" style="color:#e3116c">none</span><span class="token tag attr-value punctuation" style="color:#393A34">&#x27;</span><span class="token tag attr-value" style="color:#e3116c">; style-src cdn.example.org third-party.org; child-src https:</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f"></span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><br></span></code></pre><div class="buttonGroup_MKfy"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_t4q_" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_N8gI"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_InYZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li>释义<ul><li><code>script-src &#x27;self&#x27;</code>：只信任当前域名的脚本</li><li><code>object-src &#x27;none&#x27;</code>：不信任任何URL，即不加载任何资源</li><li><code>style-src cdn.example.org third-party.org</code>：只信任<code>cdn.example.org</code>和<code>third-party.org</code>下的样式表</li><li><code>child-src https</code>：必须使用<code>HTTPS</code>协议加载框架(frame)</li><li>其他来源：没有限制。更多可看参考连接</li></ul></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_iAQ0" id="csrf">CSRF<a href="#csrf" class="hash-link" aria-label="CSRF的直接链接" title="CSRF的直接链接">​</a></h3><p><code>Cross-Site Request Forgery</code>，跨站请求伪造。诱导用户跳转恶意网站，利用用户的登录态向网站发起恶意请求</p><p>原理：<code>http</code>请求会自动携带<code>Cookie</code>，且是<code>Http</code>目标请求域名的<code>Cookie</code></p><h4 class="anchor anchorWithStickyNavbar_iAQ0" id="防范措施-1">防范措施<a href="#防范措施-1" class="hash-link" aria-label="防范措施的直接链接" title="防范措施的直接链接">​</a></h4><ul><li>SameSite: 在响应头中设置<code>Set-Cookie: SameSite=&lt;value&gt;</code>后，表示Cookie不随着跨域请求发送，可以很大程度减少CSRF的攻击；其有以下三个值<ul><li>Strict（浏览器将只发送相同站点（完全一致）请求的 Cookie）</li><li>Lax（第三方get方法可以携带Cookie）</li><li>None （任何情况下都会发送 Cookie）。</li></ul></li><li>Origin 和 Referer：验证Referer是否是从第三方网站发出来的，阻止第三方网站请求接口，但是这两者可以通过ajax自定义请求头的方式被伪造；</li><li>CSRF Token：客户端向服务端请求token，然后在所有的请求中带上；</li></ul><div class="theme-admonition theme-admonition-tip alert alert--success admonition_dTQp"><div class="admonitionHeading_PlgZ"><span class="admonitionIcon_zsVz"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_SIyB"><p>Chrome80 版本的 CSRF 例子</p><p>讲到 CSRF 的 cookie，不得不提一下 Chrome 80 版本的的一个默认设置；Chrome 80 版本将 SameSite 的值设置为了 Lax；这导致之前公司有一些业务产生了跨域；</p></div></div><h3 class="anchor anchorWithStickyNavbar_iAQ0" id="点击劫持">点击劫持<a href="#点击劫持" class="hash-link" aria-label="点击劫持的直接链接" title="点击劫持的直接链接">​</a></h3><p>通过<code>iframe</code>的方式，将网站嵌入自己的网站，诱导用户点击自己网站中的内容，以获取内嵌网站中的用户信息</p><h4 class="anchor anchorWithStickyNavbar_iAQ0" id="防范措施-2">防范措施<a href="#防范措施-2" class="hash-link" aria-label="防范措施的直接链接" title="防范措施的直接链接">​</a></h4><ul><li>使用<code>X-Frame-Options</code>响应头。其有以下三个值<ul><li>deny：表示页面不允许通过<code>iframe</code>的方式展示</li><li>sameorigin：表示页面可以在相同域名下通过<code>iframe</code>展示</li><li>allow-from：表示页面可以在指定来源的<code>iframe</code>中展示</li></ul></li><li>使用JS<ul><li>判断网页的<code>self</code>和<code>top</code>是否相同</li><li>不同则将顶层(top)的location赋值为<code>self</code>的location</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_iAQ0" id="sql注入">SQL注入<a href="#sql注入" class="hash-link" aria-label="SQL注入的直接链接" title="SQL注入的直接链接">​</a></h3><p>用户输入的内容被后端直接拼接到<code>SQL</code>语句上，导致一些恶意<code>SQL</code>的执行</p><h4 class="anchor anchorWithStickyNavbar_iAQ0" id="防范措施-3">防范措施<a href="#防范措施-3" class="hash-link" aria-label="防范措施的直接链接" title="防范措施的直接链接">​</a></h4><ul><li>永远不要相信用户的输入，对用户输入进行校验</li><li>不进行<code>SQL</code>的动态拼接</li><li>不使用管理员权限连接数据库</li><li>加密机密信息</li></ul><h2 class="anchor anchorWithStickyNavbar_iAQ0" id="浏览器资源解析机制">浏览器资源解析机制<a href="#浏览器资源解析机制" class="hash-link" aria-label="浏览器资源解析机制的直接链接" title="浏览器资源解析机制的直接链接">​</a></h2><p><img loading="lazy" alt="浏览器资源解析" src="/blog/assets/images/analysis-5b2d9e22d575e5e2c51525938dd70bd9.png" width="2406" height="956" class="img_SN3T"></p><p>如图。浏览器解析资源时遇到不同类型的资源有不同的处理</p><ul><li>css，不影响浏览器对HTML的解析</li><li>script脚本，浏览器会暂停对HTML的解析，转而下载和执行script脚本。脚本执行完成后再继续HTML的解析</li><li>带有async属性的script脚本，浏览器会继续解析HTML，直到async脚本下载完成后，暂停解析HTML，转而执行脚本。脚本执行完成后再继续HTML的解析</li><li>带有defer属性的script脚本，浏览器会在HTML解析完成后，按照含有defer属性的脚本顺序执行脚本内容</li><li>外联css会阻塞后面JS脚本的执行。<blockquote><p>因为HTML5标准中有一项规定，浏览器在执行Script脚本前，必须保证当前的的外联CSS已经解析完成，因为JS可能会去获取或者变更DOM的CSS样式，如果此时外联CSS还没解析好，获取到的结果就是不准确的；</p></blockquote></li><li>解析遇到<code>img</code>图片，直接异步下载，不会阻塞解析。下载完毕后用图片替换原有src的地方</li></ul><h2 class="anchor anchorWithStickyNavbar_iAQ0" id="浏览器渲染机制">浏览器渲染机制<a href="#浏览器渲染机制" class="hash-link" aria-label="浏览器渲染机制的直接链接" title="浏览器渲染机制的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_iAQ0" id="渲染流水线">渲染流水线<a href="#渲染流水线" class="hash-link" aria-label="渲染流水线的直接链接" title="渲染流水线的直接链接">​</a></h3><p><img loading="lazy" alt="浏览器渲染机制" src="/blog/assets/images/chrome-render-3b7a9bb4c9abbed3a3b8cf208bf69f52.png" width="1896" height="786" class="img_SN3T"></p><ul><li>构建DOM树：浏览器<code>从上到下</code>解析HTML，生成树状DOM结构</li><li>构建styleSheets：浏览器解析HTML时遇到CSS内容时，会将CSS内容解析为styleSheets。<code>document.styleSheets</code>可查看其结构</li><li>构建布局树：遍历DOM树中的所有<code>可见元素</code>节点，并将这些节点添加到布局树中<ul><li>仅包含<code>可见元素</code>。带有<code>display:none</code>的元素、<code>head</code>标签内的全部内容、script标签等都不在布局树中</li><li>各元素布局运算的结果会重新写回到布局树中</li></ul></li><li>构建图层树：渲染引擎会为特定的节点(3D变换、页面滚动、z-index等)生成专用的图层，并生成对应的一棵图层树<ul><li>如果一个节点没有对应的层，该节点就从属于父节点的图层</li><li>独立层的条件(任一即可)<ul><li>拥有层叠上下文属性。比如，定位(position)，透明(opacity)，css滤镜(filter)等</li><li>需要剪裁(clip)的地方。比如，元素内容过多，超过元素的宽高限制，仅显示部分内容的情况就产生了剪裁<ul><li>文字部分会独立分层</li><li>如有滚动条，滚动条也是独立分层</li></ul></li></ul></li></ul></li><li>图层绘制：渲染引擎对图层树中的每个图层进行绘制<ul><li>图块，即将图层拆分成小块儿，就像吃东西要一口一口吃一样。</li><li>优先将视口附近的图块生成位图。实际生成位图的操作由栅格化执行<ul><li>视口：屏幕上的可见区域。如页面有滚动条，直接看到的部分就是视口，需要滚动才能看到的地方就不属于视口。如没有滚动条，所有显示部分即为视口</li></ul></li><li>栅格化：将图块转为位图。<ul><li>图块时栅格化执行的最小单位</li><li>渲染进程维护了一个栅格化线程池，所有图块的栅格化都在线程池内执行</li><li>栅格化会通过GPU加速生成，使用GPU生成位图的过程叫快速栅格化或GPU栅格化，生成的位图保存在GPU内存中</li></ul></li></ul></li><li>合成和显示：所有图块栅格化后，合成线程生成图块绘制命令，并提交给浏览器进程绘制页面</li></ul><h3 class="anchor anchorWithStickyNavbar_iAQ0" id="回流重排重绘合成">回流(重排)、重绘、合成<a href="#回流重排重绘合成" class="hash-link" aria-label="回流(重排)、重绘、合成的直接链接" title="回流(重排)、重绘、合成的直接链接">​</a></h3><p>常在性能优化中涉及。性能优化效果依次递减: <code>合成 =&gt; 重绘 =&gt; 重排</code></p><h4 class="anchor anchorWithStickyNavbar_iAQ0" id="回流重排">回流(重排)<a href="#回流重排" class="hash-link" aria-label="回流(重排)的直接链接" title="回流(重排)的直接链接">​</a></h4><p>通过JS或CSS修改元素的几何位置属性，比如改变元素的宽高等，让元素的布局发生变化，回想渲染流水线，就需要重新构建布局树，即为重排</p><h4 class="anchor anchorWithStickyNavbar_iAQ0" id="重绘">重绘<a href="#重绘" class="hash-link" aria-label="重绘的直接链接" title="重绘的直接链接">​</a></h4><p>仅改变元素的背景色等不涉及元素位置的变化的属性，此时元素的位置没有发生变化就会直接进入<code>图层绘制</code>阶段，即为重绘。</p><p>因为省去了<code>构建布局树</code>、<code>构建图层树</code>的阶段，所有执行效率比重排要高</p><h4 class="anchor anchorWithStickyNavbar_iAQ0" id="合成">合成<a href="#合成" class="hash-link" aria-label="合成的直接链接" title="合成的直接链接">​</a></h4><p>使用<code>transform</code>属性来实现动画效果，可以避开重排和重绘阶段，效率较其二者更高。</p><h3 class="anchor anchorWithStickyNavbar_iAQ0" id="js脚本如何阻塞dom的构建">JS脚本如何阻塞DOM的构建<a href="#js脚本如何阻塞dom的构建" class="hash-link" aria-label="JS脚本如何阻塞DOM的构建的直接链接" title="JS脚本如何阻塞DOM的构建的直接链接">​</a></h3><p>HTML解析器发现JS脚本后会暂停DOM的解析，因为JS脚本可能影响已经生成的DOM的结构。如果是外链脚本，还要考虑网络环境，脚本的大小等情况</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_dTQp"><div class="admonitionHeading_PlgZ"><span class="admonitionIcon_zsVz"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_SIyB"><p>渲染引擎有预解析的文件的优化处理，当渲染引擎收到网络进程传递的字节流时，会开启一个预解析线程，用来分析HTML文件中包含的JS、CSS等文件。解析到后，预解析线程会提前下载这些文件</p></div></div><h3 class="anchor anchorWithStickyNavbar_iAQ0" id="css如何阻塞dom的构建">CSS如何阻塞DOM的构建<a href="#css如何阻塞dom的构建" class="hash-link" aria-label="CSS如何阻塞DOM的构建的直接链接" title="CSS如何阻塞DOM的构建的直接链接">​</a></h3><p>因为JS脚本中可能会对DOM的样式属性进行修改，所以在JS脚本执行之前，需要等待CSS的解析，继而间接影响DOM的构建</p><h2 class="anchor anchorWithStickyNavbar_iAQ0" id="跨域">跨域<a href="#跨域" class="hash-link" aria-label="跨域的直接链接" title="跨域的直接链接">​</a></h2><p>同源策略：<code>协议</code>、<code>域名</code>、<code>端口号</code>，三者都一致即为同源；否则为跨源，即跨域</p><p>跨域对脚本的限制</p><ul><li>无法获取<code>Cookie</code>、<code>LocalStorage</code>、<code>IndexedDB</code>中的数据</li><li>无法读取<code>DOM</code></li><li>不能发送<code>AJAX</code>请求</li></ul><h3 class="anchor anchorWithStickyNavbar_iAQ0" id="jsonpget">JSONP(get)<a href="#jsonpget" class="hash-link" aria-label="JSONP(get)的直接链接" title="JSONP(get)的直接链接">​</a></h3><p>原理：利用<code>&lt;script&gt;</code>标签没有跨域限制</p><ul><li>前端添加<code>&lt;script&gt;</code>标签，<code>src</code>中是对服务端的请求，需要携带一个参数，让服务端识别</li><li>前端定义一个全局函数，函数名为之前携带参数中的值的名字</li><li>服务端拼接回调函数和参数，以<code>JS</code>类型返回</li></ul><details class="details_vdel alert alert--info details__fNj" data-collapsed="true"><summary>代码示例</summary><div><div class="collapsibleContent_L9Yq"><blockquote><p>当浏览器接受到服务器端返回的回调函数时会在浏览器环境寻找callbackFun函数，并执行</p></blockquote><div class="tabs-container tabList_Vrhz"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_kl51 tabs__item--active">html</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_kl51">js</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Z2jM"><div class="language-html codeBlockContainer_IW09 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Wktp"><pre tabindex="0" class="prism-code language-html codeBlock_H6ch thin-scrollbar"><code class="codeBlockLines_j5Bm"><span class="token-line" style="color:#393A34"><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&lt;!</span><span class="token doctype doctype-tag" style="color:#999988;font-style:italic">doctype</span><span class="token doctype" style="color:#999988;font-style:italic"> </span><span class="token doctype name" style="color:#999988;font-style:italic">html</span><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">html</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">lang</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">en</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">meta</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">charset</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">UTF-8</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">meta</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">viewport</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">content</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">width=device-width, initial-scale=1</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// 定义全局变量</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      </span><span class="token script language-javascript keyword" style="color:#00009f">var</span><span class="token script language-javascript"> cbData </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// 定义全局函数</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      </span><span class="token script language-javascript keyword" style="color:#00009f">var</span><span class="token script language-javascript"> </span><span class="token script language-javascript function-variable function" style="color:#d73a49">callbackFun</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript parameter">res</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript arrow operator" style="color:#393A34">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        cbData </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> res</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript function" style="color:#d73a49">alert</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">cbData</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">http://127.0.0.1:1337/cb?callback=callbackFun</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup_MKfy"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_t4q_" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_N8gI"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_InYZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Z2jM" hidden=""><div class="language-js codeBlockContainer_IW09 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Wktp"><pre tabindex="0" class="prism-code language-js codeBlock_H6ch thin-scrollbar"><code class="codeBlockLines_j5Bm"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> http </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;http&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;url&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createServer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">req</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 将请求req中的url进行解析</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> urlObj </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> url</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">parse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">req</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">url</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">writeHead</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string-property property" style="color:#36acaa">&quot;Content-Type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;text/plain&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 返回callback对应的方法名和通过JSON.stringify处理过的数据拼接而成的字符串</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">end</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">urlObj</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">query</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">callback</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">(</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation known-class-name class-name">JSON</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation method function property-access" style="color:#d73a49">stringify</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation punctuation" style="color:#393A34">{</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation literal-property property" style="color:#36acaa">name</span><span class="token template-string interpolation operator" style="color:#393A34">:</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation string" style="color:#e3116c">&quot;qb&quot;</span><span class="token template-string interpolation punctuation" style="color:#393A34">,</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation literal-property property" style="color:#36acaa">age</span><span class="token template-string interpolation operator" style="color:#393A34">:</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation number" style="color:#36acaa">30</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">)</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">listen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1337</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;127.0.0.1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_MKfy"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_t4q_" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_N8gI"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_InYZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div></div></div></details><h3 class="anchor anchorWithStickyNavbar_iAQ0" id="cors">CORS<a href="#cors" class="hash-link" aria-label="CORS的直接链接" title="CORS的直接链接">​</a></h3><blockquote><p>通信过程由浏览器自动完成，不需要用户参与</p></blockquote><h4 class="anchor anchorWithStickyNavbar_iAQ0" id="请求步骤">请求步骤<a href="#请求步骤" class="hash-link" aria-label="请求步骤的直接链接" title="请求步骤的直接链接">​</a></h4><ul><li>发起跨域请求时，判断是否是复杂请求<ul><li>复杂请求，浏览器会自动发出预检请求，即发出<code>Options</code>请求，用于确认目标资源是否支持跨域<ul><li>在浏览器发出预检请求时，会携带<code>Access-Control-Request-Method</code>请求头，
表示在实际发出请求时将用什么请求方法</li></ul></li><li>简单请求，直接发出正常请求</li></ul></li><li>浏览器会根据服务端的响应头<code>Access-Control-Allow-Origin</code>的值判断是否支持跨域。<ul><li>若支持，则正常发出请求</li><li>不支持，则在控制台显示错误信息</li></ul></li></ul><div class="theme-admonition theme-admonition-tip alert alert--success admonition_dTQp"><div class="admonitionHeading_PlgZ"><span class="admonitionIcon_zsVz"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_SIyB"><p>同时满足以下条件，即为简单请求</p><ul><li>使用的请求方法为<ul><li>get、post、head</li></ul></li><li>请求头只包含安全信息<ul><li>Accept、Accept-Language、Content-Type、Content-Language</li></ul></li><li>Content-Type的值仅限于<ul><li>text/plain、multipart/form-data、application/x-www-form-urlencoded</li></ul></li></ul><p>不符合以上条件者，均为复杂请求</p></div></div><h3 class="anchor anchorWithStickyNavbar_iAQ0" id="postmessage">postMessage<a href="#postmessage" class="hash-link" aria-label="postMessage的直接链接" title="postMessage的直接链接">​</a></h3><p>通过<code>window.postMessage()</code>方法，可以实现安全的跨域通信。</p><details class="details_vdel alert alert--info details__fNj" data-collapsed="true"><summary>代码示例</summary><div><div class="collapsibleContent_L9Yq"><div class="tabs-container tabList_Vrhz"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_kl51 tabs__item--active">main</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_kl51">receive</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Z2jM"><div class="language-html codeBlockContainer_IW09 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Wktp"><pre tabindex="0" class="prism-code language-html codeBlock_H6ch thin-scrollbar"><code class="codeBlockLines_j5Bm"><span class="token-line" style="color:#393A34"><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&lt;!</span><span class="token doctype doctype-tag" style="color:#999988;font-style:italic">doctype</span><span class="token doctype" style="color:#999988;font-style:italic"> </span><span class="token doctype name" style="color:#999988;font-style:italic">html</span><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">html</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">lang</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">en</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">meta</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">charset</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">UTF-8</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">meta</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">viewport</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">content</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">width=device-width, initial-scale=1</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">button</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">btn</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">点我打开另一个页面</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">button</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">btn2</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">点我给另一个页面发送消息</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      </span><span class="token script language-javascript keyword" style="color:#00009f">let</span><span class="token script language-javascript"> refer </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword null nil" style="color:#00009f">null</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      </span><span class="token script language-javascript dom variable" style="color:#36acaa">document</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">getElementById</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;btn&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">addEventListener</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;click&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword" style="color:#00009f">function</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        refer </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript dom variable" style="color:#36acaa">window</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">open</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;./receive.html&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      </span><span class="token script language-javascript dom variable" style="color:#36acaa">document</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">getElementById</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;btn2&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">addEventListener</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;click&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword" style="color:#00009f">function</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        refer</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">postMessage</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;hello&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&quot;*&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup_MKfy"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_t4q_" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_N8gI"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_InYZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Z2jM" hidden=""><div class="language-html codeBlockContainer_IW09 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Wktp"><pre tabindex="0" class="prism-code language-html codeBlock_H6ch thin-scrollbar"><code class="codeBlockLines_j5Bm"><span class="token-line" style="color:#393A34"><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&lt;!</span><span class="token doctype doctype-tag" style="color:#999988;font-style:italic">doctype</span><span class="token doctype" style="color:#999988;font-style:italic"> </span><span class="token doctype name" style="color:#999988;font-style:italic">html</span><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">html</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">lang</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">en</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">meta</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">charset</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">UTF-8</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">meta</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">viewport</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">content</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">width=device-width, initial-scale=1</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    received message is </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">span</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">msg</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> msg </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript dom variable" style="color:#36acaa">document</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">getElementById</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;msg&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      </span><span class="token script language-javascript dom variable" style="color:#36acaa">window</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">addEventListener</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;message&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript parameter">e</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript arrow operator" style="color:#393A34">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        msg</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript property-access">innerText</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> e</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript property-access">data</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup_MKfy"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_t4q_" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_N8gI"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_InYZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div></div></div></details><h3 class="anchor anchorWithStickyNavbar_iAQ0" id="nginx">Nginx<a href="#nginx" class="hash-link" aria-label="Nginx的直接链接" title="Nginx的直接链接">​</a></h3><p>只需要在<code>Nginx</code>中配置以下参数即可</p><div class="language-conf codeBlockContainer_IW09 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Wktp"><pre tabindex="0" class="prism-code language-conf codeBlock_H6ch thin-scrollbar"><code class="codeBlockLines_j5Bm"><span class="token-line" style="color:#393A34"><span class="token plain">location / {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    add_header Access-Control-Allow-Origin *;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    add_header Access-Control-Allow-Methods &#x27;GET, POST, OPTIONS&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    add_header Access-Control-Allow-Headers &#x27;DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if ($request_method = &#x27;OPTIONS&#x27;) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return 204;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_MKfy"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_t4q_" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_N8gI"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_InYZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_iAQ0" id="前端路由">前端路由<a href="#前端路由" class="hash-link" aria-label="前端路由的直接链接" title="前端路由的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_iAQ0" id="hash">hash<a href="#hash" class="hash-link" aria-label="hash的直接链接" title="hash的直接链接">​</a></h3><p>即浏览器URL中<code>#</code>及之后的内容，可通过<code>window.location.hash</code>获取。</p><p>当<code>hash</code>变化后会触发<code>onhashchange</code>事件，以此可实现监听浏览器地址中的<code>hash</code>的变化并使用<code>JavaScript</code>切换页面内容的效果</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_dTQp"><div class="admonitionHeading_PlgZ"><span class="admonitionIcon_zsVz"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_SIyB"><p>hash值变化，不会重新加载页面，只是浏览器地址栏中的hash值变化而已。但会触发<code>onhashchange</code>事件</p></div></div><h3 class="anchor anchorWithStickyNavbar_iAQ0" id="history">history<a href="#history" class="hash-link" aria-label="history的直接链接" title="history的直接链接">​</a></h3><p>即<code>window.history</code>，是<code>History</code>对象，表示当前窗口的浏览历史。浏览器工具栏中的<code>前进</code>和<code>后退</code>按钮，就是对<code>History</code>对象操作</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_dTQp"><div class="admonitionHeading_PlgZ"><span class="admonitionIcon_zsVz"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_SIyB"><p>当<code>history</code>发生变化时，只会改变页面路径，不会刷新页面。</p><p>脚本不允许访问<code>history</code>中的地址，但允许在地址间导航</p></div></div><h2 class="anchor anchorWithStickyNavbar_iAQ0" id="跨页签多tab通信">跨页签&amp;多tab通信<a href="#跨页签多tab通信" class="hash-link" aria-label="跨页签&amp;多tab通信的直接链接" title="跨页签&amp;多tab通信的直接链接">​</a></h2><ul><li>同域下使用<code>localStorage</code>共享数据<ul><li>使用<code>window.addEventListener(&#x27;storage&#x27;)</code>监听数据的变化<ul><li>重复写入的值无法触发事件</li><li>会受到浏览器隐身模式等的限制</li></ul></li></ul></li><li><code>WebSocket</code>配合服务端</li><li><code>Service Worker</code></li><li><code>IndexedDB</code>，浏览器实现的数据库。使用<code>共享存储</code>和<code>轮询</code>的方式监听数据变化</li><li>通过父页面的<code>window.open()</code>和子页面的<code>postMessage</code></li></ul><h2 class="anchor anchorWithStickyNavbar_iAQ0" id="事件机制">事件机制<a href="#事件机制" class="hash-link" aria-label="事件机制的直接链接" title="事件机制的直接链接">​</a></h2><p>事件捕获 -&gt; 目标阶段（事件处理） -&gt; 事件冒泡</p><p><img loading="lazy" alt="事件" src="/blog/assets/images/event-5386cdc0147c260f2876b875dde403b4.png" width="846" height="832" class="img_SN3T"></p><h3 class="anchor anchorWithStickyNavbar_iAQ0" id="事件捕获">事件捕获<a href="#事件捕获" class="hash-link" aria-label="事件捕获的直接链接" title="事件捕获的直接链接">​</a></h3><p>从<code>window</code>开始向下走近触发绑定事件的元素</p><h3 class="anchor anchorWithStickyNavbar_iAQ0" id="事件冒泡">事件冒泡<a href="#事件冒泡" class="hash-link" aria-label="事件冒泡的直接链接" title="事件冒泡的直接链接">​</a></h3><p>从绑定事件的元素开始向上直到<code>window</code></p><h3 class="anchor anchorWithStickyNavbar_iAQ0" id="事件委托">事件委托<a href="#事件委托" class="hash-link" aria-label="事件委托的直接链接" title="事件委托的直接链接">​</a></h3><p>利用事件冒泡机制，将事件的处理放在父元素身上，以减少内存的使用</p><h3 class="anchor anchorWithStickyNavbar_iAQ0" id="target与currenttarget的区别">target与currentTarget的区别<a href="#target与currenttarget的区别" class="hash-link" aria-label="target与currentTarget的区别的直接链接" title="target与currentTarget的区别的直接链接">​</a></h3><ul><li>target：表示当前触发事件的元素。如果是事件委托处理，那么target很有可能不是currentTarget</li><li>currentTarget：表示绑定事件的元素</li></ul><h3 class="anchor anchorWithStickyNavbar_iAQ0" id="阻止事件的执行">阻止事件的执行<a href="#阻止事件的执行" class="hash-link" aria-label="阻止事件的执行的直接链接" title="阻止事件的执行的直接链接">​</a></h3><ul><li>阻止事件冒泡、捕获: <code>e.stopPropagation()</code></li><li>阻止元素上与当前事件类型一样的还未执行的所有其他事件的执行: <code>e.stopImmediatePropagation()</code></li><li>阻止事件的默认行为(如，a标签的跳转行为): <code>e.preventDefault()</code></li></ul><h2 class="anchor anchorWithStickyNavbar_iAQ0" id="参考">参考<a href="#参考" class="hash-link" aria-label="参考的直接链接" title="参考的直接链接">​</a></h2><p><a href="https://juejin.cn/post/7168637354536599559" target="_blank" rel="noopener noreferrer">「2022」寒冬下我的面试知识点复盘【浏览器原理&amp;安全】</a></p><p><a href="https://juejin.cn/post/7127194919235485733" target="_blank" rel="noopener noreferrer">中高级前端工程师都需要熟悉的技能</a></p><p><a href="https://zh.javascript.info/bubbling-and-capturing" target="_blank" rel="noopener noreferrer">冒泡和捕获</a></p><p><a href="https://www.ruanyifeng.com/blog/2016/09/csp.html" target="_blank" rel="noopener noreferrer">Content Security Policy入门教程</a></p><p><a href="https://juejin.cn/post/7164039512211849223" target="_blank" rel="noopener noreferrer">一看就会的JSONP前后端实现</a></p><p><a href="https://segmentfault.com/a/1190000012550346" target="_blank" rel="noopener noreferrer">Nginx配置跨域请求 Access-Control-Allow-Origin</a></p><p><a href="https://time.geekbang.org/column/intro/100033601?tab=catalog" target="_blank" rel="noopener noreferrer">李兵-浏览器工作原理与实践</a></p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_haL5"><div class="col"><b>标签：</b><ul class="tags_Ks38 padding--none margin-left--sm"><li class="tag_wUNf"><a class="tag_jIS5 tagRegular_YEr1" href="/blog/index/tags/浏览器原理">浏览器原理</a></li></ul></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="博文分页导航"><a class="pagination-nav__link pagination-nav__link--next" href="/blog/index/2023/10/21/React渲染原理"><div class="pagination-nav__sublabel">较旧一篇</div><div class="pagination-nav__label">React渲染原理</div></a></nav></main><div class="col col--2"><div class="tableOfContents_ZqNy thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#前端缓存" class="table-of-contents__link toc-highlight">前端缓存</a></li><li><a href="#浏览器安全" class="table-of-contents__link toc-highlight">浏览器安全</a><ul><li><a href="#xss攻击" class="table-of-contents__link toc-highlight">XSS攻击</a></li><li><a href="#csrf" class="table-of-contents__link toc-highlight">CSRF</a></li><li><a href="#点击劫持" class="table-of-contents__link toc-highlight">点击劫持</a></li><li><a href="#sql注入" class="table-of-contents__link toc-highlight">SQL注入</a></li></ul></li><li><a href="#浏览器资源解析机制" class="table-of-contents__link toc-highlight">浏览器资源解析机制</a></li><li><a href="#浏览器渲染机制" class="table-of-contents__link toc-highlight">浏览器渲染机制</a><ul><li><a href="#渲染流水线" class="table-of-contents__link toc-highlight">渲染流水线</a></li><li><a href="#回流重排重绘合成" class="table-of-contents__link toc-highlight">回流(重排)、重绘、合成</a></li><li><a href="#js脚本如何阻塞dom的构建" class="table-of-contents__link toc-highlight">JS脚本如何阻塞DOM的构建</a></li><li><a href="#css如何阻塞dom的构建" class="table-of-contents__link toc-highlight">CSS如何阻塞DOM的构建</a></li></ul></li><li><a href="#跨域" class="table-of-contents__link toc-highlight">跨域</a><ul><li><a href="#jsonpget" class="table-of-contents__link toc-highlight">JSONP(get)</a></li><li><a href="#cors" class="table-of-contents__link toc-highlight">CORS</a></li><li><a href="#postmessage" class="table-of-contents__link toc-highlight">postMessage</a></li><li><a href="#nginx" class="table-of-contents__link toc-highlight">Nginx</a></li></ul></li><li><a href="#前端路由" class="table-of-contents__link toc-highlight">前端路由</a><ul><li><a href="#hash" class="table-of-contents__link toc-highlight">hash</a></li><li><a href="#history" class="table-of-contents__link toc-highlight">history</a></li></ul></li><li><a href="#跨页签多tab通信" class="table-of-contents__link toc-highlight">跨页签&amp;多tab通信</a></li><li><a href="#事件机制" class="table-of-contents__link toc-highlight">事件机制</a><ul><li><a href="#事件捕获" class="table-of-contents__link toc-highlight">事件捕获</a></li><li><a href="#事件冒泡" class="table-of-contents__link toc-highlight">事件冒泡</a></li><li><a href="#事件委托" class="table-of-contents__link toc-highlight">事件委托</a></li><li><a href="#target与currenttarget的区别" class="table-of-contents__link toc-highlight">target与currentTarget的区别</a></li><li><a href="#阻止事件的执行" class="table-of-contents__link toc-highlight">阻止事件的执行</a></li></ul></li><li><a href="#参考" class="table-of-contents__link toc-highlight">参考</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docusaurus.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docusaurus<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_GnfQ"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://neovim.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Neovim<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_GnfQ"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://markmap.js.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">markmap<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_GnfQ"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Kehan's Blog. Built with Docusaurus.</div></div></div></footer></div>
<script src="/blog/assets/js/runtime~main.a143aa5b.js"></script>
<script src="/blog/assets/js/main.85fe0a19.js"></script>
</body>
</html>